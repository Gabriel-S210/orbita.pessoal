<div class="cursos-container">
  <div class="container">
    <header class="page-header">
      <h1>ğŸ“ Cursos "Jornada CÃ³smica"</h1>
      <p>Trilhas de aprendizagem personalizadas que se adaptam ao seu progresso e interesses astronÃ´micos!</p>
    </header>

    <!-- Perfil de Aprendizagem -->
    <section class="learning-profile">
      <div class="card profile-setup">
        <h2>ğŸ¯ Configure seu Perfil de Aprendizagem</h2>
        <div class="profile-form">
          <div class="form-group">
            <label>ğŸ“š NÃ­vel de Conhecimento:</label>
            <select [(ngModel)]="userProfile.nivel" (change)="updateRecommendations()">
              <option value="iniciante">ğŸŒ± Iniciante</option>
              <option value="amador">ğŸ”­ Amador</option>
              <option value="avancado">ğŸš€ AvanÃ§ado</option>
            </select>
          </div>
          
          <div class="form-group">
            <label>ğŸŒŸ TÃ³picos de Interesse:</label>
            <div class="topics-grid">
              <label class="topic-checkbox" *ngFor="let topico of topicosDisponiveis">
                <input 
                  type="checkbox" 
                  [value]="topico.id"
                  [checked]="userProfile.topicos.includes(topico.id)"
                  (change)="toggleTopic(topico.id)">
                <span>{{topico.icon}} {{topico.nome}}</span>
              </label>
            </div>
          </div>
          
          <button class="btn btn-primary" (click)="saveProfile()">
            ğŸ’¾ Salvar Perfil
          </button>
        </div>
      </div>
    </section>

    <!-- Trilhas Recomendadas -->
    <section class="recommended-tracks" *ngIf="trilhasRecomendadas.length > 0">
      <h2>â­ Trilhas Recomendadas para VocÃª</h2>
      <div class="grid grid-2">
        <div class="card track-card recommended" *ngFor="let trilha of trilhasRecomendadas">
          <div class="track-header">
            <span class="track-icon">{{trilha.icon}}</span>
            <span class="track-level">{{trilha.nivel}}</span>
          </div>
          <h3>{{trilha.titulo}}</h3>
          <p class="track-description">{{trilha.descricao}}</p>
          <div class="track-info">
            <span class="track-duration">â±ï¸ {{trilha.duracao}}</span>
            <span class="track-modules">ğŸ“š {{trilha.modulos}} mÃ³dulos</span>
          </div>
          <div class="track-progress" *ngIf="trilha.progresso > 0">
            <div class="progress-bar">
              <div class="progress-fill" [style.width.%]="trilha.progresso"></div>
            </div>
            <span class="progress-text">{{trilha.progresso}}% concluÃ­do</span>
          </div>
          <div class="track-actions">
            <button class="btn btn-primary" (click)="startTrack(trilha)">
              {{trilha.progresso > 0 ? 'Continuar' : 'Iniciar'}} Trilha
            </button>
            <button class="btn btn-secondary" (click)="viewTrackDetails(trilha)">
              ğŸ“‹ Detalhes
            </button>
          </div>
        </div>
      </div>
    </section>

    <!-- Todas as Trilhas -->
    <section class="all-tracks">
      <h2>ğŸš€ Todas as Trilhas DisponÃ­veis</h2>
      
      <!-- Filtros -->
      <div class="track-filters">
        <button 
          class="filter-btn" 
          [class.active]="selectedLevel === 'todos'"
          (click)="filterByLevel('todos')">
          Todos os NÃ­veis
        </button>
        <button 
          class="filter-btn" 
          [class.active]="selectedLevel === 'iniciante'"
          (click)="filterByLevel('iniciante')">
          ğŸŒ± Iniciante
        </button>
        <button 
          class="filter-btn" 
          [class.active]="selectedLevel === 'amador'"
          (click)="filterByLevel('amador')">
          ğŸ”­ Amador
        </button>
        <button 
          class="filter-btn" 
          [class.active]="selectedLevel === 'avancado'"
          (click)="filterByLevel('avancado')">
          ğŸš€ AvanÃ§ado
        </button>
      </div>

      <div class="grid grid-3">
        <div class="card track-card" *ngFor="let trilha of filteredTracks">
          <div class="track-header">
            <span class="track-icon">{{trilha.icon}}</span>
            <span class="track-level">{{trilha.nivel}}</span>
          </div>
          <h3>{{trilha.titulo}}</h3>
          <p class="track-description">{{trilha.descricao}}</p>
          
          <!-- MÃ³dulos da Trilha -->
          <div class="track-modules-list">
            <h4>ğŸ“š MÃ³dulos:</h4>
            <ul>
              <li *ngFor="let modulo of trilha.modulosDetalhados">
                <span class="module-icon">{{modulo.icon}}</span>
                {{modulo.nome}}
                <span class="module-duration">({{modulo.duracao}})</span>
              </li>
            </ul>
          </div>
          
          <div class="track-info">
            <span class="track-duration">â±ï¸ {{trilha.duracao}}</span>
            <span class="track-difficulty">ğŸ“Š {{trilha.dificuldade}}</span>
          </div>
          
          <div class="track-progress" *ngIf="trilha.progresso > 0">
            <div class="progress-bar">
              <div class="progress-fill" [style.width.%]="trilha.progresso"></div>
            </div>
            <span class="progress-text">{{trilha.progresso}}% concluÃ­do</span>
          </div>
          
          <div class="track-actions">
            <button class="btn btn-primary" (click)="startTrack(trilha)">
              {{trilha.progresso > 0 ? 'Continuar' : 'Iniciar'}}
            </button>
            <button class="btn btn-secondary" (click)="viewTrackDetails(trilha)">
              ğŸ“‹ Ver Mais
            </button>
          </div>
        </div>
      </div>
    </section>

    <!-- Recursos Especiais -->
    <section class="special-resources">
      <h2>âœ¨ Recursos Especiais</h2>
      <div class="grid grid-2">
        <div class="card resource-card">
          <h3>ğŸ“± Realidade Aumentada</h3>
          <p>Use seu dispositivo mÃ³vel para apontar para o cÃ©u e receber informaÃ§Ãµes interativas sobre estrelas, planetas e constelaÃ§Ãµes.</p>
          <button class="btn btn-primary" (click)="openARMode()">
            ğŸ” Ativar Modo AR
          </button>
        </div>
        
        <div class="card resource-card">
          <h3>ğŸ›ï¸ Eventos Locais (Salvador)</h3>
          <p>CalendÃ¡rio integrado com observatÃ³rios, universidades e grupos de astronomia amadora da regiÃ£o.</p>
          <button class="btn btn-primary" (click)="viewLocalEvents()">
            ğŸ“… Ver Eventos
          </button>
        </div>
        
        <div class="card resource-card">
          <h3>ğŸ¯ Simulador Interativo</h3>
          <p>Explore o sistema solar, galÃ¡xias e fenÃ´menos astronÃ´micos em um ambiente 3D interativo.</p>
          <button class="btn btn-primary" (click)="openSimulator()">
            ğŸŒŒ Abrir Simulador
          </button>
        </div>
        
        <div class="card resource-card">
          <h3>ğŸ“– Biblioteca de Recursos</h3>
          <p>Acesso a artigos cientÃ­ficos, vÃ­deos educacionais e materiais complementares organizados por tÃ³pico.</p>
          <button class="btn btn-primary" (click)="openLibrary()">
            ğŸ“š Explorar Biblioteca
          </button>
        </div>
      </div>
    </section>

    <!-- CertificaÃ§Ãµes -->
    <section class="certifications">
      <div class="card certification-card">
        <h2>ğŸ† Sistema de CertificaÃ§Ãµes</h2>
        <p>Complete trilhas e ganhe certificados reconhecidos pela comunidade astronÃ´mica!</p>
        
        <div class="achievements-grid">
          <div class="achievement" *ngFor="let certificado of certificados">
            <div class="achievement-icon" [class.earned]="certificado.conquistado">
              {{certificado.icon}}
            </div>
            <div class="achievement-info">
              <h4>{{certificado.nome}}</h4>
              <p>{{certificado.descricao}}</p>
              <div class="achievement-progress" *ngIf="!certificado.conquistado">
                <div class="progress-bar">
                  <div class="progress-fill" [style.width.%]="certificado.progresso"></div>
                </div>
                <span>{{certificado.progresso}}% para conquistar</span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>
  </div>
</div>


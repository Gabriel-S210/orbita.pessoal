<div class="perfil-container">
  <div class="container">
    <header class="page-header">
      <h1>ğŸ‘¤ Meu Perfil Orbital</h1>
      <p class="subtitle">Personalize sua experiÃªncia astronÃ´mica</p>
    </header>

    <!-- SeÃ§Ã£o de Login -->
    <section class="login-section" *ngIf="!isLoggedIn">
      <div class="card login-card">
        <h2>ğŸš€ FaÃ§a Login para Acessar seu Perfil</h2>
        <p>Conecte-se com sua conta para personalizar sua experiÃªncia astronÃ´mica:</p>
        
        <div class="login-buttons">
          <button class="btn btn-secondary" (click)="loginWithGoogle()">
            <img src="/assets/google-icon.png" alt="" class="social-icon">
            Entrar com Google
          </button>
          <button class="btn btn-primary" (click)="loginWithFacebook()">
            <img src="/assets/facebook-icon.png" alt="" class="social-icon">
            Entrar com Facebook
          </button>
        </div>
        
        <div class="benefits">
          <h3>âœ¨ BenefÃ­cios do Perfil Orbital:</h3>
          <ul>
            <li>ğŸ¯ ConteÃºdo personalizado baseado no seu nÃ­vel</li>
            <li>ğŸ“ InformaÃ§Ãµes astronÃ´micas da sua localizaÃ§Ã£o</li>
            <li>ğŸ† Acompanhamento do seu progresso nos jogos</li>
            <li>ğŸ”” NotificaÃ§Ãµes de eventos astronÃ´micos</li>
            <li>ğŸ“š HistÃ³rico de cursos e atividades</li>
          </ul>
        </div>
      </div>
    </section>

    <!-- SeÃ§Ã£o do Perfil (quando logado) -->
    <section class="profile-section" *ngIf="isLoggedIn">
      <!-- InformaÃ§Ãµes BÃ¡sicas -->
      <div class="card profile-info">
        <div class="profile-header">
          <div class="avatar">
            <img [src]="userProfile.avatar" [alt]="userProfile.name" *ngIf="userProfile.avatar">
            <div class="avatar-placeholder" *ngIf="!userProfile.avatar">
              {{ getInitials(userProfile.name) }}
            </div>
          </div>
          <div class="user-info">
            <h2>{{ userProfile.name }}</h2>
            <p class="email">{{ userProfile.email }}</p>
            <p class="member-since">Membro desde {{ userProfile.memberSince | date:'MMMM yyyy':'pt-BR' }}</p>
          </div>
          <button class="btn btn-secondary" (click)="editProfile()">âœï¸ Editar</button>
        </div>
      </div>

      <!-- ConfiguraÃ§Ãµes do Perfil Orbital -->
      <div class="card orbital-settings">
        <h2>ğŸ¯ ConfiguraÃ§Ãµes do Perfil Orbital</h2>
        
        <div class="setting-group">
          <h3>ğŸ“š NÃ­vel de Conhecimento</h3>
          <div class="radio-group">
            <label>
              <input type="radio" name="level" value="iniciante" [(ngModel)]="userProfile.level">
              <span>ğŸŒ± Iniciante - ComeÃ§ando a explorar o universo</span>
            </label>
            <label>
              <input type="radio" name="level" value="amador" [(ngModel)]="userProfile.level">
              <span>ğŸ”­ Amador - Conhecimento bÃ¡sico de astronomia</span>
            </label>
            <label>
              <input type="radio" name="level" value="avancado" [(ngModel)]="userProfile.level">
              <span>ğŸš€ AvanÃ§ado - Conhecimento tÃ©cnico aprofundado</span>
            </label>
          </div>
        </div>

        <div class="setting-group">
          <h3>ğŸŒ TÃ³picos de Interesse</h3>
          <div class="checkbox-group">
            <label>
              <input type="checkbox" [(ngModel)]="userProfile.interests.planetas">
              <span>ğŸª Planetas e Sistema Solar</span>
            </label>
            <label>
              <input type="checkbox" [(ngModel)]="userProfile.interests.estrelas">
              <span>â­ Estrelas e EvoluÃ§Ã£o Estelar</span>
            </label>
            <label>
              <input type="checkbox" [(ngModel)]="userProfile.interests.galaxias">
              <span>ğŸŒŒ GalÃ¡xias e Cosmologia</span>
            </label>
            <label>
              <input type="checkbox" [(ngModel)]="userProfile.interests.buracos_negros">
              <span>ğŸ•³ï¸ Buracos Negros</span>
            </label>
            <label>
              <input type="checkbox" [(ngModel)]="userProfile.interests.astrofotografia">
              <span>ğŸ“¸ Astrofotografia</span>
            </label>
            <label>
              <input type="checkbox" [(ngModel)]="userProfile.interests.exploracao_espacial">
              <span>ğŸš€ ExploraÃ§Ã£o Espacial</span>
            </label>
          </div>
        </div>

        <div class="setting-group">
          <h3>ğŸ“ LocalizaÃ§Ã£o</h3>
          <div class="location-settings">
            <label>
              <span>Cidade:</span>
              <input type="text" [(ngModel)]="userProfile.location.city" placeholder="Ex: Salvador">
            </label>
            <label>
              <span>Estado:</span>
              <input type="text" [(ngModel)]="userProfile.location.state" placeholder="Ex: BA">
            </label>
            <p class="location-note">
              ğŸ’¡ Usamos sua localizaÃ§Ã£o para mostrar informaÃ§Ãµes astronÃ´micas especÃ­ficas da sua regiÃ£o
            </p>
          </div>
        </div>

        <div class="setting-group">
          <h3>ğŸ”” NotificaÃ§Ãµes</h3>
          <div class="checkbox-group">
            <label>
              <input type="checkbox" [(ngModel)]="userProfile.notifications.eventos">
              <span>ğŸŒ  Eventos astronÃ´micos (eclipses, chuvas de meteoros)</span>
            </label>
            <label>
              <input type="checkbox" [(ngModel)]="userProfile.notifications.iss">
              <span>ğŸ›°ï¸ Passagens da EstaÃ§Ã£o Espacial Internacional</span>
            </label>
            <label>
              <input type="checkbox" [(ngModel)]="userProfile.notifications.noticias">
              <span>ğŸ“° Novas notÃ­cias e descobertas</span>
            </label>
            <label>
              <input type="checkbox" [(ngModel)]="userProfile.notifications.cursos">
              <span>ğŸ“ Novos cursos e conteÃºdos</span>
            </label>
          </div>
        </div>

        <div class="save-button">
          <button class="btn btn-primary" (click)="saveProfile()">ğŸ’¾ Salvar ConfiguraÃ§Ãµes</button>
        </div>
      </div>

      <!-- EstatÃ­sticas e Progresso -->
      <div class="card stats-card">
        <h2>ğŸ“Š Suas EstatÃ­sticas</h2>
        
        <div class="stats-grid">
          <div class="stat-item">
            <div class="stat-number">{{ userStats.cursosCompletos }}</div>
            <div class="stat-label">ğŸ“ Cursos Completos</div>
          </div>
          <div class="stat-item">
            <div class="stat-number">{{ userStats.jogosPontuacao }}</div>
            <div class="stat-label">ğŸ® PontuaÃ§Ã£o nos Jogos</div>
          </div>
          <div class="stat-item">
            <div class="stat-number">{{ userStats.diasAtivo }}</div>
            <div class="stat-label">ğŸ“… Dias Ativo</div>
          </div>
          <div class="stat-item">
            <div class="stat-number">{{ userStats.noticiasLidas }}</div>
            <div class="stat-label">ğŸ“° NotÃ­cias Lidas</div>
          </div>
        </div>
      </div>

      <!-- AÃ§Ãµes da Conta -->
      <div class="card account-actions">
        <h2>âš™ï¸ ConfiguraÃ§Ãµes da Conta</h2>
        
        <div class="action-buttons">
          <button class="btn btn-secondary" (click)="exportData()">
            ğŸ“¥ Exportar Meus Dados
          </button>
          <button class="btn btn-secondary" (click)="deleteAccount()">
            ğŸ—‘ï¸ Excluir Conta
          </button>
          <button class="btn btn-primary" (click)="logout()">
            ğŸšª Sair
          </button>
        </div>
      </div>
    </section>
  </div>
</div>

